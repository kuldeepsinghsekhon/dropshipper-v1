{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { Page, FormLayout, Form, Link, Button, InlineError, Select, Card, TextField, Layout, Toast } from '@shopify/polaris';\nimport { CirclePlusMinor } from '@shopify/polaris-icons';\nimport { Redirect, Loading } from '@shopify/app-bridge/actions';\nimport { Context } from '@shopify/app-bridge-react'; //import {loadStripe} from '@stripe/stripe-js';\n//import CardForm from '../components/CardForm';\n\nimport store from 'store-js';\n\nconst axios = require('axios'); //const stripePromise = loadStripe(\"pk_test_TYooMQauvdEDq54NiTphI7jx\");\n\n\nexport default class Singin extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      email: '',\n      password: '',\n      roleselected: '',\n      emailisInvalid: false,\n      isInvalidPassword: false,\n      isInvalidRole: false,\n      errorMessageEmail: '',\n      errorMessagePassword: '',\n      errorMessageRole: '',\n      successMessageactive: false\n    });\n  }\n\n  toggleSuccessActive() {\n    this.setState({\n      successMessageactive: !this.state.successMessageactive\n    });\n  }\n\n  handleSubmit() {\n    const {\n      email,\n      password,\n      roleselected\n    } = this.state;\n\n    if (roleselected == '') {\n      this.setState({\n        isInvalidRole: true\n      });\n      return;\n    }\n\n    const user = {\n      email: email,\n      password: password,\n      role: roleselected\n    };\n    const app = this.context;\n    const redirect = Redirect.create(app);\n    const loading = Loading.create(app);\n    loading.dispatch(Loading.Action.START); //console.log([user])\n\n    axios.post('https://aladdin-dropshipper-server.herokuapp.com/signin', {\n      email: email,\n      password: password,\n      role: roleselected\n    }).then(response => {\n      this.setState({\n        email: '',\n        password: ''\n      });\n      store.set('token', response.data.token);\n      store.set('firstName', response.data.firstName);\n      store.set('lastName', response.data.lastName);\n      store.set('email', response.data.firstName);\n      store.set('username', response.data.username);\n      store.set('id', response.data._id);\n      store.set('userRole', response.data.role);\n      let url = '/selling_products';\n\n      if (response.data.role == 'seller') {\n        url = '/selling_products';\n      } else if (response.data.role == 'dropshipper') {\n        url = '/search';\n      } else {\n        url = '/';\n      }\n\n      redirect.dispatch(Redirect.Action.APP, url); //this.toggleSuccessActive();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handlePasswordChange(value) {\n    if (value.length < 3) {\n      this.setState({\n        passwordisInvalid: true\n      });\n    }\n\n    if (value.length > 3) {\n      this.setState({\n        passwordisInvalid: false\n      });\n    }\n\n    let errorMessage = this.state.passwordisInvalid ? 'Enter 3 or more characters' : '';\n    console.log(value);\n    this.setState({\n      password: value,\n      errorMessagePassword: errorMessage\n    });\n  }\n\n  handleEmailChange(value) {\n    if (value.length < 3) {\n      this.setState({\n        emailisInvalid: true\n      });\n    }\n\n    if (value.length > 3) {\n      this.setState({\n        emailisInvalid: false\n      });\n    }\n\n    let errorMessage = this.state.emailisInvalid ? 'Enter 3 or more characters ' : '';\n    console.log(value);\n    this.setState({\n      email: value,\n      errorMessageEmail: errorMessage\n    });\n  }\n\n  handleRoleChange(value) {\n    console.log(value);\n    this.setState({\n      roleselected: value\n    });\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      roleselected,\n      errorMessageEmail,\n      errorMessagePassword,\n      errorMessageRole,\n      isInvalidPassword,\n      emailisInvalid,\n      successMessageactive,\n      isInvalidRole\n    } = this.state;\n    const toastMarkup = successMessageactive ? __jsx(Toast, {\n      content: \" Successfully Signin\",\n      onDismiss: () => this.toggleSuccessActive()\n    }) : null;\n    return __jsx(Page, {\n      title: \"Signin\",\n      separator: true\n    }, toastMarkup, __jsx(Form, {\n      onSubmit: () => this.handleSubmit()\n    }, __jsx(FormLayout, null, __jsx(TextField, {\n      value: email,\n      onChange: value => this.handleEmailChange(value),\n      label: \"Email\",\n      type: \"email\",\n      error: emailisInvalid,\n      id: \"email\",\n      helpText: __jsx(\"span\", null, \"Enter your email Address.\")\n    }), __jsx(\"div\", {\n      style: {\n        marginTop: '4px'\n      }\n    }, __jsx(InlineError, {\n      message: errorMessageEmail,\n      fieldID: 'email'\n    })), __jsx(TextField, {\n      value: password,\n      onChange: value => this.handlePasswordChange(value),\n      label: \"Password\",\n      type: \"password\",\n      error: isInvalidPassword,\n      id: \"password\",\n      helpText: __jsx(\"span\", null, \"Enter your Password.\")\n    }), __jsx(\"div\", {\n      style: {\n        marginTop: '4px'\n      }\n    }, __jsx(InlineError, {\n      message: errorMessagePassword,\n      fieldID: 'password'\n    })), __jsx(Button, {\n      submit: true\n    }, \"Sign In\"), __jsx(Link, {\n      url: \"/signup\"\n    }, \"Not Resgistered?\"))));\n  }\n\n}\n\n_defineProperty(Singin, \"contextType\", Context);","map":{"version":3,"sources":["C:/Users/kuldeep/Downloads/aladdin-dropshiper-local/pages/index.js"],"names":["React","Page","FormLayout","Form","Link","Button","InlineError","Select","Card","TextField","Layout","Toast","CirclePlusMinor","Redirect","Loading","Context","store","axios","require","Singin","Component","email","password","roleselected","emailisInvalid","isInvalidPassword","isInvalidRole","errorMessageEmail","errorMessagePassword","errorMessageRole","successMessageactive","toggleSuccessActive","setState","state","handleSubmit","user","role","app","context","redirect","create","loading","dispatch","Action","START","post","then","response","set","data","token","firstName","lastName","username","_id","url","APP","catch","error","console","log","handlePasswordChange","value","length","passwordisInvalid","errorMessage","handleEmailChange","handleRoleChange","render","toastMarkup","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Page,FormLayout,Form, Link,Button, InlineError ,Select, Card, TextField, Layout,Toast} from '@shopify/polaris';\nimport {CirclePlusMinor} from '@shopify/polaris-icons';\nimport { Redirect,Loading } from '@shopify/app-bridge/actions';\nimport { Context } from '@shopify/app-bridge-react';\n//import {loadStripe} from '@stripe/stripe-js';\n//import CardForm from '../components/CardForm';\nimport store from 'store-js';\nconst axios = require('axios')\n//const stripePromise = loadStripe(\"pk_test_TYooMQauvdEDq54NiTphI7jx\");\nexport default class Singin extends React.Component {\n  static contextType = Context;\n  state = {  \n      email:'',\n      password:'',\n      roleselected:'',\n      emailisInvalid:false,\n      isInvalidPassword:false,\n      isInvalidRole:false,\n      errorMessageEmail:'',\n      errorMessagePassword:'',\n      errorMessageRole:'',\n      successMessageactive:false\n    };\n    toggleSuccessActive(){\n      this.setState({successMessageactive:!this.state.successMessageactive})\n   }\n    handleSubmit(){  \n      const{email,password,roleselected}=this.state;\n     if(roleselected==''){\n      this.setState({ isInvalidRole:true})\n      return\n     }\n      const user={email:email,password:password,role:roleselected};\n      const app = this.context;\n      const redirect = Redirect.create(app);\n      const loading = Loading.create(app);\n      loading.dispatch(Loading.Action.START);\n      //console.log([user])\n      axios.post('https://aladdin-dropshipper-server.herokuapp.com/signin', {email:email,password:password,role:roleselected} )\n      .then( (response)=>{\n       \n        this.setState({email:'',  password:'' })\n        store.set('token',response.data.token)\n        store.set('firstName',response.data.firstName)\n        store.set('lastName',response.data.lastName)\n        store.set('email',response.data.firstName)\n        store.set('username',response.data.username)\n        store.set('id',response.data._id)\n        store.set('userRole',response.data.role)\n         let url='/selling_products';\n         if(response.data.role=='seller'){\n          url='/selling_products';\n         }else if(response.data.role=='dropshipper'){\n          url='/search';\n         }else{\n           url='/';\n         }\n          redirect.dispatch( Redirect.Action.APP,url);\n          //this.toggleSuccessActive();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });   \n     }\n\n    handlePasswordChange(value){\n      if(value.length < 3){\n        this.setState({passwordisInvalid:true})\n      }\n      if(value.length > 3){\n        this.setState({passwordisInvalid:false})\n      }\n     let errorMessage = this.state.passwordisInvalid\n  ? 'Enter 3 or more characters'\n  : '';\n\n      console.log(value)\n      this.setState({password:value,errorMessagePassword:errorMessage})\n    }\n    handleEmailChange(value){\n      if(value.length < 3){\n        this.setState({emailisInvalid:true})\n      }\n      if(value.length > 3){\n        this.setState({emailisInvalid:false})\n      }\n     let errorMessage = this.state.emailisInvalid\n  ? 'Enter 3 or more characters '\n  : '';\n\n      console.log(value)\n      this.setState({email:value,errorMessageEmail:errorMessage})\n  }\n     \n  handleRoleChange(value){\n    console.log(value)\n    this.setState({roleselected:value})\n  }\n    render() {\n      const{email,password,roleselected,errorMessageEmail,errorMessagePassword,errorMessageRole,isInvalidPassword,emailisInvalid,successMessageactive,isInvalidRole }=this.state;\n      const toastMarkup = successMessageactive ? (\n        <Toast content=\" Successfully Signin\" onDismiss={()=>this.toggleSuccessActive()} />\n      ) : null;\n    return (\n      <Page title=\"Signin\" separator>  \n      {toastMarkup}   \n<Form onSubmit={()=>this.handleSubmit()}>\n    <FormLayout>\n    \n   \n   \n      <TextField\n        value={email}\n        onChange={(value) => this.handleEmailChange(value)}\n        label=\"Email\"\n        type=\"email\"\n        error={emailisInvalid}\n        id=\"email\"\n        helpText={\n          <span>\n            Enter your email Address.\n          </span>\n        }\n      />\n        <div style={{marginTop: '4px'}}>\n        <InlineError message={errorMessageEmail} fieldID={'email'} />\n      </div>\n           <TextField\n        value={password}\n        onChange={(value) => this.handlePasswordChange(value)}\n        label=\"Password\"\n        type=\"password\"\n        error={isInvalidPassword}\n        id=\"password\"\n        helpText={\n          <span>\n            Enter your Password.\n          </span>\n        }\n      />\n       <div style={{marginTop: '4px'}}>\n        <InlineError message={errorMessagePassword} fieldID={'password'} />\n      </div>\n      {/* <Select\n      label=\"Select Role\"\n      options={[\n        {label: 'Select Role', value: ''},\n        {label: 'Seller', value: 'seller'},\n        {label: 'DropShipper', value: 'dropshipper'},\n      ]}\n      id=\"role\"\n      error={isInvalidRole}\n      selected={roleselected}\n      onChange={(value)=>this.handleRoleChange(value)}\n    /> \n        <div style={{marginTop: '4px'}}>\n        <InlineError message={'Select Role '} fieldID={'role'} />\n      </div>*/}\n\n      <Button submit>Sign In</Button>\n      <Link url=\"/signup\">Not Resgistered?</Link>\n         </FormLayout>\n  </Form>\n      </Page>\n    );\n\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}