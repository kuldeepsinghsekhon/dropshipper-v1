{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Page, FormLayout, Form, Link, Button, InlineError, Select, Toast, TextField, Caption, DropZone, Stack, Thumbnail } from '@shopify/polaris';\nimport { CirclePlusMinor } from '@shopify/polaris-icons';\nimport { Redirect, Loading } from '@shopify/app-bridge/actions';\nimport { Context } from '@shopify/app-bridge-react';\nimport store from 'store-js';\n\nvar axios = require('axios');\n\nvar Singup = /*#__PURE__*/function (_React$Component) {\n  _inherits(Singup, _React$Component);\n\n  var _super = _createSuper(Singup);\n\n  function Singup() {\n    var _this;\n\n    _classCallCheck(this, Singup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      roleselected: '',\n      emailisInvalid: false,\n      firstNameisInvalid: false,\n      lastNameisInvalid: false,\n      isInvalidPassword: false,\n      role: 'dropshipper',\n      errorMessage: '',\n      errorMessagefirstName: '',\n      errorMessagelastName: '',\n      errorMessageEmail: '',\n      errorMessagePassword: '',\n      errorMessageRole: '',\n      successMessageactive: false,\n      file: undefined\n    });\n\n    return _this;\n  }\n\n  _createClass(Singup, [{\n    key: \"toggleSuccessActive\",\n    value: function toggleSuccessActive() {\n      this.setState({\n        successMessageactive: !this.state.successMessageactive\n      });\n    }\n  }, {\n    key: \"handleDropZoneDrop\",\n    value: function handleDropZoneDrop(_dropFiles, acceptedFiles, _rejectedFiles) {\n      this.setState({\n        file: acceptedFiles[0]\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this2 = this;\n\n      var app = this.context;\n      var redirect = Redirect.create(app);\n      var loading = Loading.create(app);\n      loading.dispatch(Loading.Action.START);\n      var options = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      var url = \"https://aladdin-dropshipper-server.herokuapp.com/signup\";\n      var _this$state = this.state,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          email = _this$state.email,\n          password = _this$state.password,\n          roleselected = _this$state.roleselected;\n      var user = {\n        \"firstName\": firstName,\n        \"lastName\": lastName,\n        \"email\": email,\n        \"password\": password,\n        \"role\": roleselected,\n        \"password2\": password\n      }; //console.log(user)\n\n      var formData = new FormData();\n\n      if (roleselected == 'seller') {\n        formData.append(\"myFile\", this.state.selectedFile // this.state.selectedFile.name \n        );\n      }\n\n      axios.post(url, user).then(function (response) {\n        console.log(response.data);\n        store.set('user', response.data);\n\n        _this2.setState({\n          firstName: '',\n          lastName: '',\n          email: '',\n          password: ''\n        });\n\n        redirect.dispatch(Redirect.Action.APP, '/'); // this.toggleSuccessActive();   \n      })[\"catch\"](function (error) {//console.log(error);\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(value) {\n      if (value.length < 3) {\n        this.setState({\n          passwordisInvalid: true\n        });\n      }\n\n      if (value.length > 3) {\n        this.setState({\n          passwordisInvalid: false\n        });\n      }\n\n      var errorMessage = this.state.passwordisInvalid ? 'Enter 3 or more characters' : '';\n      console.log(value);\n      this.setState({\n        password: value,\n        errorMessagePassword: errorMessage\n      });\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(value) {\n      if (value.length < 3) {\n        this.setState({\n          emailisInvalid: true\n        });\n      }\n\n      if (value.length > 3) {\n        this.setState({\n          emailisInvalid: false\n        });\n      }\n\n      var errorMessage = this.state.emailisInvalid ? 'Enter 3 or more characters ' : '';\n      console.log(value);\n      this.setState({\n        email: value,\n        errorMessageEmail: errorMessage\n      });\n    }\n  }, {\n    key: \"handlefirstNameChange\",\n    value: function handlefirstNameChange(value) {\n      if (value.length < 3) {\n        this.setState({\n          firstNameisInvalid: true\n        });\n      }\n\n      if (value.length > 3) {\n        this.setState({\n          firstNameisInvalid: false\n        });\n      }\n\n      var errorMessage = this.state.firstNameisInvalid ? 'Enter 3 or more characters ' : '';\n      console.log(value);\n      this.setState({\n        firstName: value,\n        errorMessagefirstName: errorMessage\n      });\n    }\n  }, {\n    key: \"handlelastNameChange\",\n    value: function handlelastNameChange(value) {\n      if (value.length < 3) {\n        this.setState({\n          lastNameisInvalid: true\n        });\n      }\n\n      if (value.length > 3) {\n        this.setState({\n          lastNameisInvalid: false\n        });\n      }\n\n      var errorMessage = this.state.lastNameisInvalid ? 'Enter 3 or more characters ' : '';\n      console.log(value);\n      this.setState({\n        lastName: value,\n        errorMessagefirstName: errorMessage\n      });\n    }\n  }, {\n    key: \"handleRoleChange\",\n    value: function handleRoleChange(value) {\n      this.setState({\n        roleselected: value\n      });\n      console.log(this.state.roleselected);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          firstName = _this$state2.firstName,\n          lastName = _this$state2.lastName,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          roleselected = _this$state2.roleselected,\n          errorMessagefirstName = _this$state2.errorMessagefirstName,\n          errorMessagelastName = _this$state2.errorMessagelastName,\n          errorMessageEmail = _this$state2.errorMessageEmail,\n          errorMessagePassword = _this$state2.errorMessagePassword,\n          errorMessageRole = _this$state2.errorMessageRole,\n          firstNameisInvalid = _this$state2.firstNameisInvalid,\n          lastNameisInvalid = _this$state2.lastNameisInvalid,\n          isInvalidPassword = _this$state2.isInvalidPassword,\n          emailisInvalid = _this$state2.emailisInvalid,\n          successMessageactive = _this$state2.successMessageactive;\n      var toastMarkup = successMessageactive ? __jsx(Toast, {\n        content: \"Registered Successfully\",\n        onDismiss: function onDismiss() {\n          return _this3.toggleSuccessActive();\n        }\n      }) : null;\n      var validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\n      var file = this.state.file;\n\n      var fileUpload = !file && __jsx(DropZone.FileUpload, null);\n\n      var uploadedFile = file && __jsx(Stack, null, __jsx(Thumbnail, {\n        size: \"small\",\n        alt: file.name,\n        source: validImageTypes.indexOf(file.type) > 0 ? window.URL.createObjectURL(file) : 'https://cdn.shopify.com/s/files/1/0757/9955/files/New_Post.png?12678548500147524304'\n      }), __jsx(\"div\", null, file.name, \" \", __jsx(Caption, null, file.size, \" bytes\"), \"  \", __jsx(\"p\", null, file.path)));\n\n      return __jsx(Page, {\n        title: \"Signup\",\n        separator: true\n      }, toastMarkup, __jsx(Form, {\n        onSubmit: function onSubmit() {\n          return _this3.handleSubmit();\n        }\n      }, __jsx(FormLayout, null, __jsx(TextField, {\n        value: firstName,\n        onChange: function onChange(value) {\n          return _this3.handlefirstNameChange(value);\n        },\n        label: \"FirstName\",\n        type: \"text\",\n        error: firstNameisInvalid,\n        id: \"firstname\",\n        helpText: __jsx(\"span\", null, \"Enter your First Name.\")\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '4px'\n        }\n      }, __jsx(InlineError, {\n        message: errorMessagefirstName,\n        fieldID: 'firstname'\n      })), __jsx(TextField, {\n        value: lastName,\n        onChange: function onChange(value) {\n          return _this3.handlelastNameChange(value);\n        },\n        label: \"FirstName\",\n        type: \"text\",\n        error: lastNameisInvalid,\n        id: \"lasttname\",\n        helpText: __jsx(\"span\", null, \"Enter your Last Name.\")\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '4px'\n        }\n      }, __jsx(InlineError, {\n        message: errorMessagelastName,\n        fieldID: 'lasttname'\n      })), __jsx(TextField, {\n        value: email,\n        onChange: function onChange(value) {\n          return _this3.handleEmailChange(value);\n        },\n        label: \"Email\",\n        type: \"email\",\n        error: emailisInvalid,\n        id: \"email\",\n        helpText: __jsx(\"span\", null, \"Enter your email Address.\")\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '4px'\n        }\n      }, __jsx(InlineError, {\n        message: errorMessageEmail,\n        fieldID: 'email'\n      })), __jsx(TextField, {\n        value: password,\n        onChange: function onChange(value) {\n          return _this3.handlePasswordChange(value);\n        },\n        label: \"Password\",\n        type: \"password\",\n        error: isInvalidPassword,\n        id: \"password\",\n        helpText: __jsx(\"span\", null, \"Enter your Password.\")\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '4px'\n        }\n      }, __jsx(InlineError, {\n        message: errorMessagePassword,\n        fieldID: 'password'\n      })), __jsx(Select, {\n        label: \"Select Role\",\n        options: [{\n          label: 'Select Role',\n          value: ''\n        }, {\n          label: 'Seller',\n          value: 'seller'\n        }, {\n          label: 'DropShipper',\n          value: 'dropshipper'\n        }],\n        id: \"role\",\n        selected: roleselected,\n        onChange: function onChange(value) {\n          return _this3.handleRoleChange(value);\n        }\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '4px'\n        }\n      }, __jsx(InlineError, {\n        message: errorMessageRole,\n        fieldID: 'role'\n      })), roleselected == 'seller' ? __jsx(DropZone, {\n        onDrop: function onDrop(_dropFiles, acceptedFiles, _rejectedFiles) {\n          return _this3.handleDropZoneDrop(_dropFiles, acceptedFiles, _rejectedFiles);\n        }\n      }, uploadedFile, fileUpload) : '', __jsx(Button, {\n        submit: true\n      }, \"Signup\"), __jsx(Link, {\n        url: \"/index\"\n      }, \"Already Resgistered?\"))));\n    }\n  }]);\n\n  return Singup;\n}(React.Component);\n\n_defineProperty(Singup, \"contextType\", Context);\n\nexport { Singup as default };","map":{"version":3,"sources":["C:/Users/kuldeep/Downloads/aladdin-dropshiper-local/pages/signup.js"],"names":["React","Page","FormLayout","Form","Link","Button","InlineError","Select","Toast","TextField","Caption","DropZone","Stack","Thumbnail","CirclePlusMinor","Redirect","Loading","Context","store","axios","require","Singup","firstName","lastName","email","password","roleselected","emailisInvalid","firstNameisInvalid","lastNameisInvalid","isInvalidPassword","role","errorMessage","errorMessagefirstName","errorMessagelastName","errorMessageEmail","errorMessagePassword","errorMessageRole","successMessageactive","file","undefined","setState","state","_dropFiles","acceptedFiles","_rejectedFiles","app","context","redirect","create","loading","dispatch","Action","START","options","headers","url","user","formData","FormData","append","selectedFile","post","then","response","console","log","data","set","APP","error","value","length","passwordisInvalid","toastMarkup","toggleSuccessActive","validImageTypes","fileUpload","uploadedFile","name","indexOf","type","window","URL","createObjectURL","size","path","handleSubmit","handlefirstNameChange","marginTop","handlelastNameChange","handleEmailChange","handlePasswordChange","label","handleRoleChange","handleDropZoneDrop","Component"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAaC,UAAb,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAmCC,MAAnC,EAA2CC,WAA3C,EAAwDC,MAAxD,EAAgEC,KAAhE,EAAuEC,SAAvE,EAAiFC,OAAjF,EAA0FC,QAA1F,EAAoGC,KAApG,EAA2GC,SAA3G,QAA2H,kBAA3H;AACA,SAAQC,eAAR,QAA8B,wBAA9B;AACA,SAASC,QAAT,EAAkBC,OAAlB,QAAiC,6BAAjC;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AACA,IAAMC,KAAK,GAAEC,OAAO,CAAC,OAAD,CAApB;;IAEqBC,M;;;;;;;;;;;;;;;;4DAET;AACNC,MAAAA,SAAS,EAAC,EADJ;AAENC,MAAAA,QAAQ,EAAC,EAFH;AAGJC,MAAAA,KAAK,EAAC,EAHF;AAIJC,MAAAA,QAAQ,EAAC,EAJL;AAKJC,MAAAA,YAAY,EAAC,EALT;AAMJC,MAAAA,cAAc,EAAC,KANX;AAOJC,MAAAA,kBAAkB,EAAC,KAPf;AAQJC,MAAAA,iBAAiB,EAAC,KARd;AASJC,MAAAA,iBAAiB,EAAC,KATd;AAUJC,MAAAA,IAAI,EAAC,aAVD;AAWJC,MAAAA,YAAY,EAAE,EAXV;AAYJC,MAAAA,qBAAqB,EAAC,EAZlB;AAaJC,MAAAA,oBAAoB,EAAC,EAbjB;AAcJC,MAAAA,iBAAiB,EAAC,EAdd;AAeJC,MAAAA,oBAAoB,EAAC,EAfjB;AAgBJC,MAAAA,gBAAgB,EAAC,EAhBb;AAiBJC,MAAAA,oBAAoB,EAAC,KAjBjB;AAkBJC,MAAAA,IAAI,EAACC;AAlBD,K;;;;;;;0CAoBY;AAClB,WAAKC,QAAL,CAAc;AAACH,QAAAA,oBAAoB,EAAC,CAAC,KAAKI,KAAL,CAAWJ;AAAlC,OAAd;AACF;;;uCACkBK,U,EAAYC,a,EAAeC,c,EAAgB;AAC7D,WAAKJ,QAAL,CAAc;AAACF,QAAAA,IAAI,EAACK,aAAa,CAAC,CAAD;AAAnB,OAAd;AAEH;;;mCACmB;AAAA;;AACZ,UAAME,GAAG,GAAG,KAAKC,OAAjB;AACA,UAAMC,QAAQ,GAAGjC,QAAQ,CAACkC,MAAT,CAAgBH,GAAhB,CAAjB;AACA,UAAMI,OAAO,GAAGlC,OAAO,CAACiC,MAAR,CAAeH,GAAf,CAAhB;AACAI,MAAAA,OAAO,CAACC,QAAR,CAAiBnC,OAAO,CAACoC,MAAR,CAAeC,KAAhC;AACA,UAAMC,OAAO,GAAG;AACdC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AADK,OAAhB;AAKA,UAAIC,GAAG,GAAC,yDAAR;AAVY,wBAW0C,KAAKd,KAX/C;AAAA,UAWNpB,SAXM,eAWNA,SAXM;AAAA,UAWIC,QAXJ,eAWIA,QAXJ;AAAA,UAWaC,KAXb,eAWaA,KAXb;AAAA,UAWmBC,QAXnB,eAWmBA,QAXnB;AAAA,UAW4BC,YAX5B,eAW4BA,YAX5B;AAYZ,UAAM+B,IAAI,GAAC;AAAC,qBAAYnC,SAAb;AAAuB,oBAAWC,QAAlC;AAA2C,iBAAQC,KAAnD;AAAyD,oBAAWC,QAApE;AAA6E,gBAAOC,YAApF;AAAiG,qBAAYD;AAA7G,OAAX,CAZY,CAaZ;;AACA,UAAMiC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;AACA,UAAGjC,YAAY,IAAE,QAAjB,EAA0B;AACxBgC,QAAAA,QAAQ,CAACE,MAAT,CACE,QADF,EAEE,KAAKlB,KAAL,CAAWmB,YAFb,CAGC;AAHD;AAKD;;AAED1C,MAAAA,KAAK,CAAC2C,IAAN,CAAWN,GAAX,EAAeC,IAAf,EAAqBM,IAArB,CAA2B,UAAEC,QAAF,EAAgB;AACzCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAjD,QAAAA,KAAK,CAACkD,GAAN,CAAU,MAAV,EAAiBJ,QAAQ,CAACG,IAA1B;;AACE,QAAA,MAAI,CAAC1B,QAAL,CAAc;AAACnB,UAAAA,SAAS,EAAC,EAAX;AAAcC,UAAAA,QAAQ,EAAC,EAAvB;AAA0BC,UAAAA,KAAK,EAAC,EAAhC;AAAqCC,UAAAA,QAAQ,EAAC;AAA9C,SAAd;;AACAuB,QAAAA,QAAQ,CAACG,QAAT,CAAmBpC,QAAQ,CAACqC,MAAT,CAAgBiB,GAAnC,EAAuC,GAAvC,EAJuC,CAKxC;AAEF,OAPD,WAOU,UAAUC,KAAV,EAAiB,CACzB;AACD,OATD;AAUD;;;yCAEoBC,K,EAAM;AACzB,UAAGA,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACgC,UAAAA,iBAAiB,EAAC;AAAnB,SAAd;AACD;;AACD,UAAGF,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACgC,UAAAA,iBAAiB,EAAC;AAAnB,SAAd;AACD;;AACF,UAAIzC,YAAY,GAAG,KAAKU,KAAL,CAAW+B,iBAAX,GACpB,4BADoB,GAEpB,EAFC;AAICR,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,WAAK9B,QAAL,CAAc;AAAChB,QAAAA,QAAQ,EAAC8C,KAAV;AAAgBnC,QAAAA,oBAAoB,EAACJ;AAArC,OAAd;AACD;;;sCACiBuC,K,EAAM;AACtB,UAAGA,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACd,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACD;;AACD,UAAG4C,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACd,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACD;;AACF,UAAIK,YAAY,GAAG,KAAKU,KAAL,CAAWf,cAAX,GACpB,6BADoB,GAEpB,EAFC;AAICsC,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,WAAK9B,QAAL,CAAc;AAACjB,QAAAA,KAAK,EAAC+C,KAAP;AAAapC,QAAAA,iBAAiB,EAACH;AAA/B,OAAd;AACH;;;0CACqBuC,K,EAAM;AAC1B,UAAGA,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACb,UAAAA,kBAAkB,EAAC;AAApB,SAAd;AACD;;AACD,UAAG2C,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACb,UAAAA,kBAAkB,EAAC;AAApB,SAAd;AACD;;AACF,UAAII,YAAY,GAAG,KAAKU,KAAL,CAAWd,kBAAX,GACpB,6BADoB,GAEpB,EAFC;AAICqC,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,WAAK9B,QAAL,CAAc;AAACnB,QAAAA,SAAS,EAACiD,KAAX;AAAiBtC,QAAAA,qBAAqB,EAACD;AAAvC,OAAd;AACH;;;yCACoBuC,K,EAAM;AACzB,UAAGA,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACZ,UAAAA,iBAAiB,EAAC;AAAnB,SAAd;AACD;;AACD,UAAG0C,KAAK,CAACC,MAAN,GAAe,CAAlB,EAAoB;AAClB,aAAK/B,QAAL,CAAc;AAACZ,UAAAA,iBAAiB,EAAC;AAAnB,SAAd;AACD;;AACF,UAAIG,YAAY,GAAG,KAAKU,KAAL,CAAWb,iBAAX,GACpB,6BADoB,GAEpB,EAFC;AAICoC,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,WAAK9B,QAAL,CAAc;AAAClB,QAAAA,QAAQ,EAACgD,KAAV;AAAgBtC,QAAAA,qBAAqB,EAACD;AAAtC,OAAd;AACH;;;qCACoBuC,K,EAAM;AACrB,WAAK9B,QAAL,CAAc;AAACf,QAAAA,YAAY,EAAC6C;AAAd,OAAd;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWhB,YAAvB;AACD;;;6BAEQ;AAAA;;AAAA,yBACgP,KAAKgB,KADrP;AAAA,UACCpB,SADD,gBACCA,SADD;AAAA,UACWC,QADX,gBACWA,QADX;AAAA,UACoBC,KADpB,gBACoBA,KADpB;AAAA,UAC0BC,QAD1B,gBAC0BA,QAD1B;AAAA,UACmCC,YADnC,gBACmCA,YADnC;AAAA,UACgDO,qBADhD,gBACgDA,qBADhD;AAAA,UACsEC,oBADtE,gBACsEA,oBADtE;AAAA,UAC2FC,iBAD3F,gBAC2FA,iBAD3F;AAAA,UAC6GC,oBAD7G,gBAC6GA,oBAD7G;AAAA,UACkIC,gBADlI,gBACkIA,gBADlI;AAAA,UACmJT,kBADnJ,gBACmJA,kBADnJ;AAAA,UACsKC,iBADtK,gBACsKA,iBADtK;AAAA,UACwLC,iBADxL,gBACwLA,iBADxL;AAAA,UAC0MH,cAD1M,gBAC0MA,cAD1M;AAAA,UACyNW,oBADzN,gBACyNA,oBADzN;AAEL,UAAMoC,WAAW,GAAGpC,oBAAoB,GACtC,MAAC,KAAD;AAAO,QAAA,OAAO,EAAC,yBAAf;AAAyC,QAAA,SAAS,EAAE;AAAA,iBAAI,MAAI,CAACqC,mBAAL,EAAJ;AAAA;AAApD,QADsC,GAEpC,IAFJ;AAGA,UAAMC,eAAe,GAAG,CAAC,WAAD,EAAc,YAAd,EAA4B,WAA5B,CAAxB;AALK,UAMCrC,IAND,GAMO,KAAKG,KANZ,CAMCH,IAND;;AAOL,UAAMsC,UAAU,GAAG,CAACtC,IAAD,IAAS,MAAC,QAAD,CAAU,UAAV,OAA5B;;AACA,UAAMuC,YAAY,GAAGvC,IAAI,IACvB,MAAC,KAAD,QACE,MAAC,SAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,GAAG,EAAEA,IAAI,CAACwC,IAFZ;AAGE,QAAA,MAAM,EACJH,eAAe,CAACI,OAAhB,CAAwBzC,IAAI,CAAC0C,IAA7B,IAAqC,CAArC,GACIC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B7C,IAA3B,CADJ,GAEI;AANR,QADF,EAUE,mBACGA,IAAI,CAACwC,IADR,OACc,MAAC,OAAD,QAAUxC,IAAI,CAAC8C,IAAf,WADd,QACoD,iBAAI9C,IAAI,CAAC+C,IAAT,CADpD,CAVF,CADF;;AAeJ,aACI,MAAC,IAAD;AAAM,QAAA,KAAK,EAAC,QAAZ;AAAqB,QAAA,SAAS;AAA9B,SACCZ,WADD,EAEP,MAAC,IAAD;AAAM,QAAA,QAAQ,EAAE;AAAA,iBAAI,MAAI,CAACa,YAAL,EAAJ;AAAA;AAAhB,SACK,MAAC,UAAD,QACA,MAAC,SAAD;AACI,QAAA,KAAK,EAAEjE,SADX;AAEI,QAAA,QAAQ,EAAE,kBAACiD,KAAD;AAAA,iBAAW,MAAI,CAACiB,qBAAL,CAA2BjB,KAA3B,CAAX;AAAA,SAFd;AAGI,QAAA,KAAK,EAAC,WAHV;AAII,QAAA,IAAI,EAAC,MAJT;AAKI,QAAA,KAAK,EAAE3C,kBALX;AAMI,QAAA,EAAE,EAAC,WANP;AAOI,QAAA,QAAQ,EACN;AARN,QADA,EAcG;AAAK,QAAA,KAAK,EAAE;AAAC6D,UAAAA,SAAS,EAAE;AAAZ;AAAZ,SACC,MAAC,WAAD;AAAa,QAAA,OAAO,EAAExD,qBAAtB;AAA6C,QAAA,OAAO,EAAE;AAAtD,QADD,CAdH,EAiBE,MAAC,SAAD;AACE,QAAA,KAAK,EAAEV,QADT;AAEE,QAAA,QAAQ,EAAE,kBAACgD,KAAD;AAAA,iBAAW,MAAI,CAACmB,oBAAL,CAA0BnB,KAA1B,CAAX;AAAA,SAFZ;AAGE,QAAA,KAAK,EAAC,WAHR;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,KAAK,EAAE1C,iBALT;AAME,QAAA,EAAE,EAAC,WANL;AAOE,QAAA,QAAQ,EACN;AARJ,QAjBF,EA8BI;AAAK,QAAA,KAAK,EAAE;AAAC4D,UAAAA,SAAS,EAAE;AAAZ;AAAZ,SACA,MAAC,WAAD;AAAa,QAAA,OAAO,EAAEvD,oBAAtB;AAA4C,QAAA,OAAO,EAAE;AAArD,QADA,CA9BJ,EAkCE,MAAC,SAAD;AACE,QAAA,KAAK,EAAEV,KADT;AAEE,QAAA,QAAQ,EAAE,kBAAC+C,KAAD;AAAA,iBAAW,MAAI,CAACoB,iBAAL,CAAuBpB,KAAvB,CAAX;AAAA,SAFZ;AAGE,QAAA,KAAK,EAAC,OAHR;AAIE,QAAA,IAAI,EAAC,OAJP;AAKE,QAAA,KAAK,EAAE5C,cALT;AAME,QAAA,EAAE,EAAC,OANL;AAOE,QAAA,QAAQ,EACN;AARJ,QAlCF,EA+CI;AAAK,QAAA,KAAK,EAAE;AAAC8D,UAAAA,SAAS,EAAE;AAAZ;AAAZ,SACA,MAAC,WAAD;AAAa,QAAA,OAAO,EAAEtD,iBAAtB;AAAyC,QAAA,OAAO,EAAE;AAAlD,QADA,CA/CJ,EAkDO,MAAC,SAAD;AACH,QAAA,KAAK,EAAEV,QADJ;AAEH,QAAA,QAAQ,EAAE,kBAAC8C,KAAD;AAAA,iBAAW,MAAI,CAACqB,oBAAL,CAA0BrB,KAA1B,CAAX;AAAA,SAFP;AAGH,QAAA,KAAK,EAAC,UAHH;AAIH,QAAA,IAAI,EAAC,UAJF;AAKH,QAAA,KAAK,EAAEzC,iBALJ;AAMH,QAAA,EAAE,EAAC,UANA;AAOH,QAAA,QAAQ,EACN;AARC,QAlDP,EA+DG;AAAK,QAAA,KAAK,EAAE;AAAC2D,UAAAA,SAAS,EAAE;AAAZ;AAAZ,SACC,MAAC,WAAD;AAAa,QAAA,OAAO,EAAErD,oBAAtB;AAA4C,QAAA,OAAO,EAAE;AAArD,QADD,CA/DH,EAkEE,MAAC,MAAD;AACA,QAAA,KAAK,EAAC,aADN;AAEA,QAAA,OAAO,EAAE,CACL;AAACyD,UAAAA,KAAK,EAAE,aAAR;AAAuBtB,UAAAA,KAAK,EAAE;AAA9B,SADK,EAEP;AAACsB,UAAAA,KAAK,EAAE,QAAR;AAAkBtB,UAAAA,KAAK,EAAE;AAAzB,SAFO,EAGP;AAACsB,UAAAA,KAAK,EAAE,aAAR;AAAuBtB,UAAAA,KAAK,EAAE;AAA9B,SAHO,CAFT;AAOA,QAAA,EAAE,EAAC,MAPH;AAQA,QAAA,QAAQ,EAAE7C,YARV;AASA,QAAA,QAAQ,EAAE,kBAAC6C,KAAD;AAAA,iBAAS,MAAI,CAACuB,gBAAL,CAAsBvB,KAAtB,CAAT;AAAA;AATV,QAlEF,EA6EI;AAAK,QAAA,KAAK,EAAE;AAACkB,UAAAA,SAAS,EAAE;AAAZ;AAAZ,SACA,MAAC,WAAD;AAAa,QAAA,OAAO,EAAEpD,gBAAtB;AAAwC,QAAA,OAAO,EAAE;AAAjD,QADA,CA7EJ,EAgFGX,YAAY,IAAE,QAAd,GACD,MAAC,QAAD;AAAU,QAAA,MAAM,EAAE,gBAACiB,UAAD,EAAaC,aAAb,EAA4BC,cAA5B;AAAA,iBAA6C,MAAI,CAACkD,kBAAL,CAAwBpD,UAAxB,EAAoCC,aAApC,EAAmDC,cAAnD,CAA7C;AAAA;AAAlB,SACHiC,YADG,EAEDD,UAFC,CADC,GAIO,EApFV,EAsFE,MAAC,MAAD;AAAS,QAAA,MAAM;AAAf,kBAtFF,EAuFE,MAAC,IAAD;AAAM,QAAA,GAAG,EAAC;AAAV,gCAvFF,CADL,CAFO,CADJ;AAkGC;;;;EAtP+B7E,KAAK,CAACgG,S;;gBAArB3E,M,iBACEJ,O;;SADFI,M","sourcesContent":["import React from 'react';\r\nimport {Page,FormLayout,Form, Link,Button, InlineError ,Select, Toast, TextField,Caption, DropZone, Stack, Thumbnail} from '@shopify/polaris';\r\nimport {CirclePlusMinor} from '@shopify/polaris-icons';\r\nimport { Redirect,Loading } from '@shopify/app-bridge/actions';\r\nimport { Context } from '@shopify/app-bridge-react';\r\nimport store from 'store-js';\r\nconst axios =require('axios');\r\n\r\nexport default class Singup extends React.Component {\r\n  static contextType = Context;\r\n    state = {\r\n      firstName:'',\r\n      lastName:'',\r\n        email:'',\r\n        password:'',\r\n        roleselected:'',\r\n        emailisInvalid:false,\r\n        firstNameisInvalid:false,\r\n        lastNameisInvalid:false,\r\n        isInvalidPassword:false,\r\n        role:'dropshipper',\r\n        errorMessage :'',\r\n        errorMessagefirstName:'',\r\n        errorMessagelastName:'',\r\n        errorMessageEmail:'',\r\n        errorMessagePassword:'',\r\n        errorMessageRole:'',\r\n        successMessageactive:false,\r\n        file:undefined\r\n      };\r\n   toggleSuccessActive(){\r\n      this.setState({successMessageactive:!this.state.successMessageactive})\r\n   }\r\n   handleDropZoneDrop(_dropFiles, acceptedFiles, _rejectedFiles) {\r\n    this.setState({file:acceptedFiles[0]})\r\n    \r\n}\r\n      handleSubmit(){\r\n        const app = this.context;\r\n        const redirect = Redirect.create(app);\r\n        const loading = Loading.create(app);\r\n        loading.dispatch(Loading.Action.START);\r\n        const options = {\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n          }\r\n        };\r\n        let url=\"https://aladdin-dropshipper-server.herokuapp.com/signup\";\r\n        const{firstName,lastName,email,password,roleselected}=this.state;\r\n        const user={\"firstName\":firstName,\"lastName\":lastName,\"email\":email,\"password\":password,\"role\":roleselected,\"password2\":password};\r\n        //console.log(user)\r\n        const formData = new FormData();\r\n        if(roleselected=='seller'){\r\n          formData.append( \r\n            \"myFile\", \r\n            this.state.selectedFile, \r\n           // this.state.selectedFile.name \r\n          ); \r\n        }\r\n       \r\n        axios.post(url,user).then( ( response ) => {\r\n          console.log(response.data )\r\n          store.set('user',response.data)\r\n            this.setState({firstName:'',lastName:'',email:'',  password:'', })\r\n            redirect.dispatch( Redirect.Action.APP,'/'); \r\n           // this.toggleSuccessActive();   \r\n              \r\n        } ).catch(function (error) {\r\n          //console.log(error);\r\n        })\r\n      }\r\n      \r\n      handlePasswordChange(value){\r\n        if(value.length < 3){\r\n          this.setState({passwordisInvalid:true})\r\n        }\r\n        if(value.length > 3){\r\n          this.setState({passwordisInvalid:false})\r\n        }\r\n       let errorMessage = this.state.passwordisInvalid\r\n    ? 'Enter 3 or more characters'\r\n    : '';\r\n \r\n        console.log(value)\r\n        this.setState({password:value,errorMessagePassword:errorMessage})\r\n      }\r\n      handleEmailChange(value){\r\n        if(value.length < 3){\r\n          this.setState({emailisInvalid:true})\r\n        }\r\n        if(value.length > 3){\r\n          this.setState({emailisInvalid:false})\r\n        }\r\n       let errorMessage = this.state.emailisInvalid\r\n    ? 'Enter 3 or more characters '\r\n    : '';\r\n \r\n        console.log(value)\r\n        this.setState({email:value,errorMessageEmail:errorMessage})\r\n    }\r\n    handlefirstNameChange(value){\r\n      if(value.length < 3){\r\n        this.setState({firstNameisInvalid:true})\r\n      }\r\n      if(value.length > 3){\r\n        this.setState({firstNameisInvalid:false})\r\n      }\r\n     let errorMessage = this.state.firstNameisInvalid\r\n  ? 'Enter 3 or more characters '\r\n  : '';\r\n\r\n      console.log(value)\r\n      this.setState({firstName:value,errorMessagefirstName:errorMessage})\r\n  }\r\n  handlelastNameChange(value){\r\n    if(value.length < 3){\r\n      this.setState({lastNameisInvalid:true})\r\n    }\r\n    if(value.length > 3){\r\n      this.setState({lastNameisInvalid:false})\r\n    }\r\n   let errorMessage = this.state.lastNameisInvalid\r\n? 'Enter 3 or more characters '\r\n: '';\r\n\r\n    console.log(value)\r\n    this.setState({lastName:value,errorMessagefirstName:errorMessage})\r\n}\r\n    handleRoleChange(value){\r\n      this.setState({roleselected:value})\r\n      console.log(this.state.roleselected)\r\n    }\r\n       \r\n    render() {\r\n        const{firstName,lastName,email,password,roleselected,errorMessagefirstName,errorMessagelastName,errorMessageEmail,errorMessagePassword,errorMessageRole,firstNameisInvalid,lastNameisInvalid,isInvalidPassword,emailisInvalid,successMessageactive }=this.state;\r\n        const toastMarkup = successMessageactive ? (\r\n          <Toast content=\"Registered Successfully\" onDismiss={()=>this.toggleSuccessActive()} />\r\n        ) : null;\r\n        const validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n        const{file}=this.state;\r\n        const fileUpload = !file && <DropZone.FileUpload />;\r\n        const uploadedFile = file && (\r\n          <Stack>\r\n            <Thumbnail\r\n              size=\"small\"\r\n              alt={file.name}\r\n              source={\r\n                validImageTypes.indexOf(file.type) > 0\r\n                  ? window.URL.createObjectURL(file)\r\n                  : 'https://cdn.shopify.com/s/files/1/0757/9955/files/New_Post.png?12678548500147524304'\r\n              }\r\n            />\r\n            <div>\r\n              {file.name} <Caption>{file.size} bytes</Caption>  <p>{file.path}</p>\r\n            </div>\r\n          </Stack> );\r\n    return (\r\n        <Page title=\"Signup\" separator>  \r\n        {toastMarkup}   \r\n <Form onSubmit={()=>this.handleSubmit()}>\r\n      <FormLayout>\r\n      <TextField\r\n          value={firstName}\r\n          onChange={(value) => this.handlefirstNameChange(value)}\r\n          label=\"FirstName\"\r\n          type=\"text\"\r\n          error={firstNameisInvalid}\r\n          id=\"firstname\"\r\n          helpText={\r\n            <span>\r\n              Enter your First Name.\r\n            </span>\r\n          }\r\n        />\r\n         <div style={{marginTop: '4px'}}>\r\n          <InlineError message={errorMessagefirstName} fieldID={'firstname'} />\r\n        </div>\r\n        <TextField\r\n          value={lastName}\r\n          onChange={(value) => this.handlelastNameChange(value)}\r\n          label=\"FirstName\"\r\n          type=\"text\"\r\n          error={lastNameisInvalid}\r\n          id=\"lasttname\"\r\n          helpText={\r\n            <span>\r\n              Enter your Last Name.\r\n            </span>\r\n          }\r\n        />\r\n          <div style={{marginTop: '4px'}}>\r\n          <InlineError message={errorMessagelastName} fieldID={'lasttname'} />\r\n        </div>\r\n     \r\n        <TextField\r\n          value={email}\r\n          onChange={(value) => this.handleEmailChange(value)}\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          error={emailisInvalid}\r\n          id=\"email\"\r\n          helpText={\r\n            <span>\r\n              Enter your email Address.\r\n            </span>\r\n          }\r\n        />\r\n          <div style={{marginTop: '4px'}}>\r\n          <InlineError message={errorMessageEmail} fieldID={'email'} />\r\n        </div>\r\n             <TextField\r\n          value={password}\r\n          onChange={(value) => this.handlePasswordChange(value)}\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          error={isInvalidPassword}\r\n          id=\"password\"\r\n          helpText={\r\n            <span>\r\n              Enter your Password.\r\n            </span>\r\n          }\r\n        />\r\n         <div style={{marginTop: '4px'}}>\r\n          <InlineError message={errorMessagePassword} fieldID={'password'} />\r\n        </div>\r\n        <Select\r\n        label=\"Select Role\"\r\n        options={[\r\n            {label: 'Select Role', value: ''},\r\n          {label: 'Seller', value: 'seller'},\r\n          {label: 'DropShipper', value: 'dropshipper'},\r\n        ]}\r\n        id=\"role\"\r\n        selected={roleselected}\r\n        onChange={(value)=>this.handleRoleChange(value)}\r\n      />\r\n          <div style={{marginTop: '4px'}}>\r\n          <InlineError message={errorMessageRole} fieldID={'role'} />\r\n        </div>\r\n        {roleselected=='seller'?(\r\n        <DropZone onDrop={(_dropFiles, acceptedFiles, _rejectedFiles)=>this.handleDropZoneDrop(_dropFiles, acceptedFiles, _rejectedFiles)}>\r\n    {uploadedFile}\r\n      {fileUpload}\r\n  </DropZone>):('')}\r\n\r\n        <Button  submit>Signup</Button>\r\n        <Link url=\"/index\">Already Resgistered?</Link>\r\n           </FormLayout>\r\n    </Form>\r\n        </Page>\r\n\r\n    );\r\n\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}