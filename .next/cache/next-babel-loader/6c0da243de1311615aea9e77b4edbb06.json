{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Page, Spinner, Filters, Card, Button, ResourceItem, ResourceList, TextStyle, TextField, Layout, Select, Thumbnail } from '@shopify/polaris';\nimport { CirclePlusMinor } from '@shopify/polaris-icons';\n\nvar axios = require('axios');\n\nvar store = require('store-js');\n\nvar stripHtml = require('string-strip-html');\n\nvar product = {\n  title: \"\"\n};\nimport Cookies from 'js-cookie';\nvar accessToken = Cookies.get(\"accessToken\");\n\nvar ResourceListWithProducts = /*#__PURE__*/function (_React$Component) {\n  _inherits(ResourceListWithProducts, _React$Component);\n\n  var _super = _createSuper(ResourceListWithProducts);\n\n  function ResourceListWithProducts() {\n    var _this;\n\n    _classCallCheck(this, ResourceListWithProducts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      selectedItems: [],\n      products: [],\n      queryValue: '',\n      sortValue: '',\n      typeselected: '',\n      userRole: store.get('userRole'),\n      showspinner: false,\n      dropshipper_shop: Cookies.get(\"shopOrigin\")\n    });\n\n    return _this;\n  }\n\n  _createClass(ResourceListWithProducts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var userRole = this.state.userRole;\n\n      if (userRole == 'dropshipper') {\n        var url = \"https://aladdin-dropshipper-server.herokuapp.com/products\";\n        axios.post(url).then(function (response) {\n          console.log(response.data); // store.set('user',response.data)\n\n          _this2.setState({\n            products: response.data\n          }); //redirect.dispatch(Redirect.Action.APP,'/')      \n\n        })[\"catch\"](function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item) {\n      var _this3 = this;\n\n      var body_html = stripHtml(item.body_html);\n      var dropshipper_shop = this.state.dropshipper_shop;\n      var id = item.id,\n          url = item.url,\n          title = item.title,\n          avatarSource = item.avatarSource,\n          shop = item.shop;\n\n      var media = __jsx(Thumbnail, {\n        product: true,\n        size: \"large\",\n        name: name,\n        source: item.images[0] ? item.images[0] : ''\n      });\n\n      var button;\n\n      if (dropshipper_shop == shop) {\n        button = __jsx(Button, {\n          onClick: function onClick() {\n            return alert(\"You can not import your product\");\n          }\n        }, \"Your Product\");\n      } else {\n        button = __jsx(Button, {\n          onClick: function onClick() {\n            return _this3.addproduct(item);\n          },\n          icon: CirclePlusMinor\n        }, \"Add a product\");\n      }\n\n      return __jsx(ResourceItem, {\n        id: id,\n        media: media,\n        accessibilityLabel: \"View details for \".concat(title)\n      }, __jsx(\"h3\", null, __jsx(TextStyle, {\n        variation: \"strong\"\n      }, title)), __jsx(\"div\", null, __jsx(\"p\", null, body_html)), button);\n    }\n  }, {\n    key: \"onSelectionChange\",\n    value: function onSelectionChange(items) {\n      var idsFromResources = items.map(function (item) {\n        return item;\n      });\n      this.setState({\n        selectedItems: idsFromResources\n      });\n    }\n  }, {\n    key: \"onSortChange\",\n    value: function onSortChange(selected) {\n      this.setState({\n        SortValue: selected\n      });\n      console.log(\"Sort option changed to \".concat(selected, \".\"));\n    }\n  }, {\n    key: \"handleQueryValueChange\",\n    value: function handleQueryValueChange(value) {\n      this.setState({\n        queryValue: value\n      });\n      console.log('handleQueryValueChange' + value);\n      console.log(accessToken);\n    }\n  }, {\n    key: \"handleQueryValueRemove\",\n    value: function handleQueryValueRemove(value) {\n      this.setState({\n        queryValue: null\n      });\n      console.log('handleQueryValueRemove' + value);\n    }\n  }, {\n    key: \"addproduct\",\n    value: function addproduct(item) {\n      var title = item.title,\n          product_type = item.product_type,\n          body_html = item.body_html,\n          variants = item.variants,\n          shop = item.shop;\n      var shopifyProductId = item.shopifyProductId;\n      var vendor = \"dropshipper\";\n      var product = {\n        \"title\": title,\n        \"body_html\": body_html,\n        \"vendor\": vendor,\n        \"product_type\": product_type,\n        \"variants\": variants\n      };\n      var url = \"http://localhost:5000/addto_shop\";\n      var dspshop = Cookies.get(\"shopOrigin\");\n      axios.post(url, {\n        \"product\": product,\n        \"dropshipper_shop\": dspshop,\n        \"seller_shop\": shop,\n        \"shopifyProductId\": shopifyProductId\n      }).then(function (response) {\n        console.log(\"response.data\");\n        console.log(response.data);\n      })[\"catch\"](function (error) {\n        console.log(\"error\");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          selectedItems = _this$state.selectedItems,\n          queryValue = _this$state.queryValue,\n          sortValue = _this$state.sortValue,\n          typeselected = _this$state.typeselected,\n          products = _this$state.products,\n          showspinner = _this$state.showspinner;\n      var options = [{\n        label: 'Today',\n        value: 'today'\n      }, {\n        label: 'Yesterday',\n        value: 'yesterday'\n      }, {\n        label: 'Last 7 days',\n        value: 'lastWeek'\n      }];\n      var filters = [{\n        key: 'taggedWith',\n        label: 'Tagged with',\n        filter: __jsx(Select, {\n          label: \"Date range\",\n          options: options,\n          onChange: function onChange() {\n            return handleSelectChange();\n          },\n          value: typeselected\n        }),\n        shortcut: true\n      }];\n\n      var filterControl = __jsx(Filters, {\n        queryValue: queryValue,\n        filters: filters,\n        onQueryChange: function onQueryChange(value) {\n          return _this4.handleQueryValueChange(value);\n        },\n        onQueryClear: function onQueryClear(value) {\n          return _this4.handleQueryValueRemove(value);\n        }\n      }, __jsx(\"div\", {\n        style: {\n          paddingLeft: '8px'\n        }\n      }, __jsx(Button, {\n        onClick: function onClick() {\n          return console.log('New filter saved');\n        }\n      }, \"Save\")));\n\n      return __jsx(Page, null, __jsx(Card, null, __jsx(ResourceList, {\n        resourceName: {\n          singular: 'product',\n          plural: 'products'\n        },\n        items: products,\n        renderItem: function renderItem(item) {\n          return _this4.renderItem(item);\n        },\n        selectedItems: selectedItems,\n        onSelectionChange: function onSelectionChange(items) {\n          return _this4.onSelectionChange(items);\n        },\n        promotedBulkActions: [{\n          content: 'Import Products',\n          onAction: function onAction() {\n            return console.log('Todo: implement bulk edit');\n          }\n        }],\n        sortOptions: [{\n          label: 'Newest update',\n          value: 'DATE_MODIFIED_DESC'\n        }, {\n          label: 'Oldest update',\n          value: 'DATE_MODIFIED_ASC'\n        }],\n        onSortChange: function onSortChange(selected) {\n          return _this4.onSortChange(selected);\n        },\n        filterControl: filterControl\n      })));\n    }\n  }]);\n\n  return ResourceListWithProducts;\n}(React.Component);\n\nexport { ResourceListWithProducts as default };","map":{"version":3,"sources":["C:/Users/kuldeep/Downloads/aladdin-dropshiper-local/pages/search.js"],"names":["React","Page","Spinner","Filters","Card","Button","ResourceItem","ResourceList","TextStyle","TextField","Layout","Select","Thumbnail","CirclePlusMinor","axios","require","store","stripHtml","product","title","Cookies","accessToken","get","ResourceListWithProducts","selectedItems","products","queryValue","sortValue","typeselected","userRole","showspinner","dropshipper_shop","state","url","post","then","response","console","log","data","setState","error","item","body_html","id","avatarSource","shop","media","name","images","button","alert","addproduct","items","idsFromResources","map","selected","SortValue","value","product_type","variants","shopifyProductId","vendor","dspshop","options","label","filters","key","filter","handleSelectChange","shortcut","filterControl","handleQueryValueChange","handleQueryValueRemove","paddingLeft","singular","plural","renderItem","onSelectionChange","content","onAction","onSortChange","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Page,Spinner,Filters, Card,Button, ResourceItem, ResourceList, TextStyle, TextField, Layout, Select, Thumbnail} from '@shopify/polaris';\nimport {CirclePlusMinor} from '@shopify/polaris-icons';\nconst axios =require('axios');\nconst store= require('store-js')\nconst stripHtml =require('string-strip-html');\nvar product={title:\"\"};\nimport Cookies from 'js-cookie';\nconst accessToken=Cookies.get(\"accessToken\");\nexport default class ResourceListWithProducts extends React.Component {\n  state = {\n    selectedItems: [],\n    products:[],\n    queryValue:'',\n    sortValue:'',\n    typeselected:'',\n    userRole:store.get('userRole'),\n    showspinner:false,\n    dropshipper_shop:Cookies.get(\"shopOrigin\")\n  };\n  componentDidMount() {\n    const userRole=this.state.userRole;\n    if(userRole=='dropshipper'){\n    let url=\"https://aladdin-dropshipper-server.herokuapp.com/products\";\n \n    axios.post(url).then( (response)=>{ \n      console.log(response.data )\n     // store.set('user',response.data)\n      this.setState({products:response.data});\n        //redirect.dispatch(Redirect.Action.APP,'/')      \n    } ).catch(function (error) {\n      console.log(error);\n    })\n  }\n }\n  renderItem(item) {\n    const body_html=stripHtml( item.body_html);\n    const dropshipper_shop=this.state.dropshipper_shop;\n    const {id, url, title,avatarSource,shop} = item;\n    const media = <Thumbnail product size=\"large\" name={name} \n                         source={\n                        item.images[0]\n                          ? item.images[0]\n                          : ''\n                      }    />;\n    let button;\n\n    if(dropshipper_shop==shop){\n      button= <Button  onClick={()=>alert(\"You can not import your product\")}\n      >Your Product</Button> ;\n           \n    }else{\n      button= <Button  onClick={()=>this.addproduct(item)}\n      icon={CirclePlusMinor}>Add a product</Button> ;\n     \n    }\n    return (\n      \n      <ResourceItem\n      \n        id={id}\n       \n        media={media}\n        accessibilityLabel={`View details for ${title}`}\n      >\n        <h3>\n          <TextStyle variation=\"strong\">{title}</TextStyle>\n        </h3>\n        <div><p>{body_html}</p></div>\n          {button}\n        </ResourceItem> \n    );\n  }\n  onSelectionChange(items){\n    const idsFromResources = items.map((item) => item);       \n    this.setState({ selectedItems: idsFromResources });\n  }\n  onSortChange(selected){\n      this.setState({ SortValue: selected });\n      console.log(`Sort option changed to ${selected}.`);  \n\n  }\n  handleQueryValueChange(value){\n    this.setState({queryValue:value})\n    console.log('handleQueryValueChange'+value)\n    console.log(accessToken);\n  }\n  handleQueryValueRemove(value){\n    this.setState({queryValue:null})\n    console.log('handleQueryValueRemove'+value)\n  }\n  addproduct(item){\n   const{title,product_type,body_html,variants,shop}=item;\n   const shopifyProductId=item.shopifyProductId;\n  const vendor=\"dropshipper\"\n  const product={\n    \"title\": title,\n      \"body_html\":body_html,\n      \"vendor\": vendor,\n      \"product_type\": product_type,\n      \"variants\":variants\n    }\n  \nconst url=\"http://localhost:5000/addto_shop\";\nconst dspshop=Cookies.get(\"shopOrigin\");\naxios.post(url,{\"product\":product,\"dropshipper_shop\":dspshop,\"seller_shop\":shop,\"shopifyProductId\":shopifyProductId}).then( (response)=>{ \n console.log(\"response.data\") \n console.log(response.data)        \n} ).catch(function (error) {\n  console.log(\"error\");\n  console.log(error);\n})\n  \n  }\n  render() {\n    const {\n      selectedItems,\n      queryValue,\n      sortValue,\n      typeselected,\n      products,\n      showspinner\n    }=this.state;\n    const options = [\n      {label: 'Today', value: 'today'},\n      {label: 'Yesterday', value: 'yesterday'},\n      {label: 'Last 7 days', value: 'lastWeek'},\n    ];\n    const filters = [\n      {\n        key: 'taggedWith',\n        label: 'Tagged with',\n        filter: (\n          <Select\n          label=\"Date range\"\n          options={options}\n          onChange={()=>handleSelectChange()}\n          value={typeselected}\n        />\n        ),\n        shortcut: true,\n      }\n    ];\n   \n    const filterControl = (\n      <Filters\n        queryValue={queryValue}\n        filters={filters}   \n        onQueryChange={(value)=>this.handleQueryValueChange(value)}\n        onQueryClear={(value)=>this.handleQueryValueRemove(value)}\n      >\n        <div style={{paddingLeft: '8px'}}>\n          <Button onClick={() => console.log('New filter saved')}>Save</Button>\n        </div>\n      </Filters>\n    );\n  return (\n    <Page>\n       \n    <Card>\n   \n      <ResourceList\n        resourceName={{\n          singular: 'product',\n          plural: 'products',\n        }}\n        items={products}\n        renderItem={(item)=>this.renderItem(item)}\n        selectedItems={selectedItems}\n        onSelectionChange={(items)=>this.onSelectionChange(items)}\n        promotedBulkActions={ [\n          {\n            content: 'Import Products',\n            onAction: () => console.log('Todo: implement bulk edit'),\n          },\n        ]}\n       \n        sortOptions={[\n          {label: 'Newest update', value: 'DATE_MODIFIED_DESC'},\n          {label: 'Oldest update', value: 'DATE_MODIFIED_ASC'},\n        ]}\n        onSortChange={(selected) =>this.onSortChange(selected)}\n        filterControl={filterControl}\n        \n      />\n  \n    </Card>\n    </Page>\n  );\n\n \n}\n\n}\n"]},"metadata":{},"sourceType":"module"}